---
import { getCollection } from "astro:content";

import BaseLayout from "@/layouts/BaseLayout.astro";

import Nav from "@/components/Nav.astro";

import { formatDate } from "@/lib/utils";

const posts = await getCollection("veille");
---

<BaseLayout>
  <Nav />

  {
    posts.map((item) => (
      <div class="max-w-1/3">
        <a href={`/veille/${item.id}`}>
          <div class="hover:rounded-lg hover:bg-muted/50 transition-colors p-3 text-muted-foreground">
            <h2 class="line-clamp-1">{item.data.title}</h2>
            <p class="capitalize text-xs">{formatDate(item.data.date)}</p>
          </div>
        </a>
        <div class="border-b my-2" />
      </div>
    ))
  }
</BaseLayout>
